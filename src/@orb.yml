version: 2.1

description: >
  Build and push Docker images to ECR
  Simplify the image builging workflow with sensible defaults.

# This information will be displayed in the orb registry and is not mandatory.
display:
  home_url: "https://github.com/mibaboo/mibaboo-orb"
  source_url: "https://github.com/mibaboo/mibaboo-orb"

# If your orb requires other orbs, you can import them like this. Otherwise remove the "orbs" stanza.
 orbs:
  aws-cli: circleci/aws-cli@5.4.0
  aws-ecr: circleci/aws-ecr@9.5.2


 jobs:
   build_and_push:
     description: >
       Log into Amazon ECR and push image to repository.
       Authentication with OIDC or static AWS keys using the aws-cli/setup command is required.
       NOTE: Some commands may not work with AWS CLI Version 1.  

